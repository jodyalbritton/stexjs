{"version":3,"sources":["../../../src/subscriptions/index.js"],"names":["createDeviceSubscription","request","require","rp","client","appId","deviceId","componentId","capability","attribute","value","stateChangeOnly","subscriptionName","body","sourceType","device","options","method","url","headers","json"],"mappings":";;;;;QAIgBA,wB,GAAAA,wB;AAJhB,IAAMC,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,KAAKD,QAAQ,iBAAR,CAAX;;AAGO,SAASF,wBAAT,CACHI,MADG,EAEHC,KAFG,EAGHC,QAHG,EAIHC,WAJG,EAKHC,UALG,EAMHC,SANG,EAOHC,KAPG,EAQHC,eARG,EASHC,gBATG,EASc;AACjB,QAAIC,OAAO;;AAEPC,oBAAa,QAFN;AAGPC,gBAAS;AACLT,sBAAWA,QADN;AAELC,yBAAcA,WAFT;AAGLC,wBAAYA,UAHP;AAILC,uBAAWA,SAJN;AAKLC,mBAAOA,KALF;AAMLC,6BAAiBA,eANZ;AAOLC,8BAAkBA;AAPb;;AAHF,KAAX;;AAeA,QAAII,UAAU;AACVC,gBAAQ,MADE;AAEVC,aAAKd,OAAOc,GAAP,GAAa,gBAAb,GAA8Bb,KAA9B,GAAoC,gBAF/B;AAGVc,iBAASf,OAAOe,OAHN;AAIVN,cAAMA,IAJI;AAKVO,cAAM;AALI,KAAd;;AAUA,WAAOjB,GAAGa,OAAH,CAAP;AACF","file":"index.js","sourcesContent":["const request = require('request')\r\nconst rp = require('request-promise')\r\n\r\n\r\nexport function createDeviceSubscription(\r\n    client, \r\n    appId, \r\n    deviceId, \r\n    componentId, \r\n    capability, \r\n    attribute, \r\n    value, \r\n    stateChangeOnly, \r\n    subscriptionName){\r\n    let body = {\r\n        \r\n        sourceType : 'DEVICE',\r\n        device : {\r\n            deviceId : deviceId,\r\n            componentId : componentId,\r\n            capability: capability,\r\n            attribute: attribute,\r\n            value: value,\r\n            stateChangeOnly: stateChangeOnly,\r\n            subscriptionName: subscriptionName\r\n        }\r\n\r\n    }\r\n    \r\n    let options = {\r\n        method: 'POST',\r\n        url: client.url + \"installedapps/\"+appId+\"/subscriptions\",\r\n        headers: client.headers,\r\n        body: body,\r\n        json: true\r\n    }\r\n\r\n\r\n\r\n    return rp(options)\r\n }"]}